<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prova Inclusiva e AcessÃ­vel - IFG</title>
  <meta name="description" content="Sistema de avaliaÃ§Ã£o acessÃ­vel para pessoas com deficiÃªncia motora e labial" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>ğŸ“š Prova Inclusiva e AcessÃ­vel</h1>
    <p class="subtitle">Sistema desenvolvido para promover igualdade no acesso Ã  educaÃ§Ã£o</p>
  </header>

  <main>
    <div id="quiz-container">
      <!-- Ãrea da pergunta -->
      <div id="question-container"></div>
      
      <!-- Ãrea das opÃ§Ãµes (mÃºltipla escolha ou frases prontas) -->
      <div id="options-container"></div>
      
      <!-- Ãrea para respostas discursivas -->
      <div id="discursiva-area" class="hidden">
        <h3>ğŸ“ Sua resposta:</h3>
        <div id="texto-discursivo" class="texto-area"></div>
        <div class="botoes-discursiva">
          <button id="limpar-btn" class="btn-secundario">ğŸ—‘ï¸ Limpar</button>
          <button id="enviar-discursiva-btn" class="btn-primario">ğŸ“¤ Enviar Resposta</button>
        </div>
      </div>
      
      <!-- BotÃ£o prÃ³xima pergunta -->
      <button id="next-btn" class="hidden btn-proximo">â¡ï¸ PrÃ³xima Pergunta</button>
      
      <!-- RodapÃ© com funcionalidades futuras -->
      <div class="quiz-footer">
        <h4>ğŸ”§ Recursos de Acessibilidade</h4>
        <div class="recursos-container">
          <button id="btn-tts" class="btn-recurso" onclick="ativarLeituraAutomatica(document.getElementById('question-container').textContent)" title="Ativar leitura automÃ¡tica de texto">
            <span class="icone">ğŸ”Š</span>
            <span class="texto">Leitura AutomÃ¡tica</span>
            <span class="status">Em breve</span>
          </button>
          
          <button id="btn-eye-tracking" class="btn-recurso" onclick="ativarEyeTracking()" title="Ativar controle por movimento dos olhos">
            <span class="icone">ğŸ‘ï¸</span>
            <span class="texto">Eye Tracking</span>
            <span class="status">Em breve</span>
          </button>
          
          <button id="btn-simular-olhar" class="btn-recurso" onclick="simularOlhar()" title="Modo demonstraÃ§Ã£o com simulaÃ§Ã£o de olhar">
            <span class="icone">ğŸ¯</span>
            <span class="texto">Simular Olhar</span>
            <span class="status">Em breve</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Resultado -->
    <div id="result" class="hidden">
      <p id="score"></p>
    </div>
  </main>

  <footer>
    <p>â™¿ Acessibilidade Ã© um direito de todos</p>
    <p class="info-tech">Instituto Federal de GoiÃ¡s - Projeto InclusÃ£o Digital</p>
  </footer>

  <!-- Modal de ConfiguraÃ§Ã£o do Eye Tracking -->
  <div id="modal-eye-tracking" class="modal-overlay hidden">
    <div class="modal-container">
      <div class="modal-header">
        <h2>ğŸ‘ï¸ ConfiguraÃ§Ã£o do Eye Tracking</h2>
        <button class="modal-close" onclick="fecharModalEyeTracking()">âœ•</button>
      </div>
      
      <div class="modal-body">
        <!-- Indicador de progresso -->
        <div class="progress-steps">
          <div class="step active" id="step-indicator-1">
            <div class="step-number">1</div>
            <span>PermissÃµes</span>
          </div>
          <div class="step-line"></div>
          <div class="step" id="step-indicator-2">
            <div class="step-number">2</div>
            <span>Posicionamento</span>
          </div>
          <div class="step-line"></div>
          <div class="step" id="step-indicator-3">
            <div class="step-number">3</div>
            <span>IluminaÃ§Ã£o</span>
          </div>
          <div class="step-line"></div>
          <div class="step" id="step-indicator-4">
            <div class="step-number">4</div>
            <span>CalibraÃ§Ã£o</span>
          </div>
          <div class="step-line"></div>
          <div class="step" id="step-indicator-5">
            <div class="step-number">5</div>
            <span>Teste</span>
          </div>
        </div>

        <!-- ConteÃºdo dos passos -->
        <div class="step-content">
          <!-- Passo 1: PermissÃµes -->
          <div class="step-panel active" id="step-1">
            <div class="step-icon">ğŸ“¸</div>
            <h3>Passo 1: Permitir Acesso Ã  CÃ¢mera</h3>
            <div class="step-description">
              <p>O navegador solicitarÃ¡ permissÃ£o para usar sua cÃ¢mera.</p>
              <div class="instruction-box">
                <ul>
                  <li>âœ… Clique em <strong>"Permitir"</strong> quando solicitado</li>
                  <li>ğŸ”’ Seus dados nÃ£o serÃ£o gravados ou enviados</li>
                  <li>ğŸ’» O processamento Ã© feito localmente no navegador</li>
                </ul>
              </div>
              <div class="warning-box">
                <strong>âš ï¸ Importante:</strong> Sem acesso Ã  cÃ¢mera, o Eye Tracking nÃ£o funcionarÃ¡.
              </div>
            </div>
          </div>

          <!-- Passo 2: Posicionamento -->
          <div class="step-panel" id="step-2">
            <div class="step-icon">ğŸ“</div>
            <h3>Passo 2: Posicionamento Correto</h3>
            <div class="step-description">
              <div class="positioning-guide">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'%3E%3Crect fill='%23f0f0f0' width='400' height='300'/%3E%3Crect x='50' y='20' width='300' height='180' fill='%23667eea' rx='10'/%3E%3Crect x='70' y='40' width='260' height='140' fill='%23e0e0e0'/%3E%3Ccircle cx='200' cy='240' r='30' fill='%23ff9800'/%3E%3Cpath d='M185,235 Q200,225 215,235' stroke='%23333' fill='none' stroke-width='3'/%3E%3Ccircle cx='190' cy='230' r='5' fill='%23333'/%3E%3Ccircle cx='210' cy='230' r='5' fill='%23333'/%3E%3Ctext x='200' y='285' text-anchor='middle' font-size='14' fill='%23333'%3E50-70cm%3C/text%3E%3C/svg%3E" alt="Posicionamento" class="guide-image">
              </div>
              <div class="instruction-box">
                <ul>
                  <li>ğŸ“ <strong>DistÃ¢ncia:</strong> 50-70 cm da tela</li>
                  <li>ğŸ‘¤ <strong>Altura:</strong> Rosto centralizado com a tela</li>
                  <li>ğŸª‘ <strong>Postura:</strong> Sente-se confortavelmente e ereto</li>
                  <li>ğŸ“· <strong>CÃ¢mera:</strong> Na altura dos olhos</li>
                </ul>
              </div>
              <div class="tip-box">
                <strong>ğŸ’¡ Dica:</strong> Use um suporte para notebook ou ajuste a altura do monitor.
              </div>
            </div>
          </div>

          <!-- Passo 3: IluminaÃ§Ã£o -->
          <div class="step-panel" id="step-3">
            <div class="step-icon">ğŸ’¡</div>
            <h3>Passo 3: IluminaÃ§Ã£o Adequada</h3>
            <div class="step-description">
              <div class="lighting-examples">
                <div class="lighting-card good">
                  <div class="card-icon">âœ…</div>
                  <h4>IluminaÃ§Ã£o Boa</h4>
                  <ul>
                    <li>Luz uniforme no rosto</li>
                    <li>Sem sombras fortes</li>
                    <li>Luz natural ou artificial indireta</li>
                  </ul>
                </div>
                <div class="lighting-card bad">
                  <div class="card-icon">âŒ</div>
                  <h4>Evitar</h4>
                  <ul>
                    <li>Contraluz (janela atrÃ¡s)</li>
                    <li>Sombras no rosto</li>
                    <li>Luz muito fraca ou muito forte</li>
                  </ul>
                </div>
              </div>
              <div class="instruction-box">
                <ul>
                  <li>â˜€ï¸ Prefira luz natural difusa</li>
                  <li>ğŸ’¡ Use luz ambiente suave</li>
                  <li>ğŸ”† Evite luz direta nos olhos</li>
                  <li>ğŸªŸ NÃ£o fique de costas para janela</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Passo 4: CalibraÃ§Ã£o -->
          <div class="step-panel" id="step-4">
            <div class="step-icon">ğŸ¯</div>
            <h3>Passo 4: Processo de CalibraÃ§Ã£o</h3>
            <div class="step-description">
              <p><strong>A calibraÃ§Ã£o iniciarÃ¡ automaticamente quando vocÃª clicar em "Iniciar Eye Tracking".</strong></p>
              <div class="instruction-box">
                <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ“ O que acontecerÃ¡:</h4>
                <ol>
                  <li>ğŸ”´ <strong>9 pontos vermelhos</strong> aparecerÃ£o pela tela (um de cada vez)</li>
                  <li>ğŸ‘€ <strong>Olhe diretamente</strong> para cada ponto que aparecer</li>
                  <li>ğŸ–±ï¸ <strong>Clique no centro</strong> de cada ponto</li>
                  <li>â±ï¸ VocÃª terÃ¡ <strong>4 segundos</strong> para cada ponto</li>
                  <li>âŒš Tempo total: <strong>8 segundos de calibraÃ§Ã£o</strong></li>
                  <li>âœ… MÃ­nimo recomendado: clicar em <strong>5 pontos</strong></li>
                </ol>
              </div>
              <div class="calibration-tips">
                <h4>ğŸ“‹ Regras IMPORTANTES durante a calibraÃ§Ã£o:</h4>
                <ul>
                  <li><strong>ğŸš« NÃƒO mova a cabeÃ§a</strong> - mantenha-a completamente imÃ³vel</li>
                  <li><strong>ğŸ‘ï¸ Mova APENAS os olhos</strong> para olhar para os pontos</li>
                  <li><strong>ğŸ¯ Olhe ANTES de clicar</strong> - olhe para o ponto, depois clique</li>
                  <li><strong>â¸ï¸ Mantenha postura estÃ¡vel</strong> durante toda a calibraÃ§Ã£o</li>
                  <li><strong>ğŸ”„ Pode recalibrar</strong> clicando nos pontos novamente depois</li>
                </ul>
              </div>
              <div class="warning-box">
                <strong>âš ï¸ AtenÃ§Ã£o:</strong> Quanto mais pontos vocÃª clicar com precisÃ£o, melhor serÃ¡ a detecÃ§Ã£o do seu olhar. NÃ£o tenha pressa!
              </div>
              <div class="tip-box">
                <strong>ğŸ’¡ Dica Pro:</strong> Se a detecÃ§Ã£o nÃ£o estiver boa apÃ³s a calibraÃ§Ã£o, vocÃª pode clicar em vÃ¡rios pontos pela tela a qualquer momento para melhorar a precisÃ£o.
              </div>
            </div>
          </div>

          <!-- Passo 5: Teste -->
          <div class="step-panel" id="step-5">
            <div class="step-icon">âœ…</div>
            <h3>Passo 5: Pronto para ComeÃ§ar!</h3>
            <div class="step-description">
              <p><strong>VocÃª estÃ¡ pronto para usar o Eye Tracking!</strong></p>
              <div class="success-box" style="margin: 30px 0;">
                <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‰</div>
                <h3 style="color: #4caf50; margin-bottom: 15px;">Tudo Configurado!</h3>
                <p style="font-size: 1.1em; line-height: 1.6;">
                  Ao clicar em "Iniciar Eye Tracking", o processo de calibraÃ§Ã£o comeÃ§arÃ¡ automaticamente.<br><br>
                  <strong>Lembre-se:</strong> Siga os pontos vermelhos e clique neles!
                </p>
              </div>
              
              <div class="instruction-box">
                <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ¯ Como usar apÃ³s calibraÃ§Ã£o:</h4>
                <ul>
                  <li>ğŸ‘ï¸ O ponto vermelho seguirÃ¡ seu olhar pela tela</li>
                  <li>â±ï¸ Olhe para um botÃ£o por <strong>2 segundos</strong> para selecionÃ¡-lo</li>
                  <li>ğŸ“Š Uma barra de progresso aparecerÃ¡ no botÃ£o</li>
                  <li>âœ¨ Quando completar, o botÃ£o serÃ¡ clicado automaticamente</li>
                </ul>
              </div>

              <div class="test-checklist">
                <h4 style="color: #2c3e50; margin-bottom: 15px;">ğŸ“ Checklist pÃ³s-calibraÃ§Ã£o (marque apÃ³s testar):</h4>
                <div class="checklist-item">
                  <input type="checkbox" id="test-1">
                  <label for="test-1">O ponto vermelho segue meu olhar suavemente</label>
                </div>
                <div class="checklist-item">
                  <input type="checkbox" id="test-2">
                  <label for="test-2">Consigo selecionar botÃµes olhando para eles</label>
                </div>
                <div class="checklist-item">
                  <input type="checkbox" id="test-3">
                  <label for="test-3">A barra de progresso aparece nos botÃµes</label>
                </div>
                <div class="checklist-item">
                  <input type="checkbox" id="test-4">
                  <label for="test-4">O sistema responde em aproximadamente 2 segundos</label>
                </div>
              </div>
              
              <div class="tip-box">
                <strong>ğŸ’¡ Dica Final:</strong> Se algo nÃ£o funcionar bem, vocÃª pode clicar em mais pontos da tela a qualquer momento para recalibrar e melhorar a precisÃ£o.
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" onclick="voltarPassoModal()" id="btn-voltar-modal">â† Voltar</button>
        <button class="btn-primary" onclick="avancarPassoModal()" id="btn-avancar-modal">PrÃ³ximo â†’</button>
        <button class="btn-success hidden" onclick="iniciarEyeTracking()" id="btn-iniciar-modal">ğŸš€ Iniciar Eye Tracking</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://webgazer.cs.brown.edu/webgazer.js"></script>
  <script src="eye-tracking.js"></script>
  <script src="script.js"></script>
</body>
</html>